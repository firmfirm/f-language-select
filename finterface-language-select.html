<link rel="import" href="../polymer/polymer.html">

<script>
window.FInterface = window.FInterface || {};

/**
 * `FInterface.LanguageSelect` exposes properties for any language select element.
 *
 * @polymerBehavior
 */
FInterface.LanguageSelect = Polymer.dedupingMixin(function(superClass) {
  return class LanguageSelect extends superClass {
    static get properties() {
      return {
        /**
         * Language options to choose from. Each item has the following format:
         * ```json
         * {
         *   flag: String(ISO 3166-1 alpha-2),
         *   lang: String(ISO 639-1)
         * }```
         *
         * @default [ us:en, es:es lt:lt ]
         */
        options: {
          type: Array,
          notify: true,
          value: function() {
            return [
              { flag: 'us', lang: 'en' },
              { flag: 'es', lang: 'es' },
              { flag: 'lt', lang: 'lt' }
            ];
          }
        },

        /*
         * Selected option's `lang` property value.
         */
        selected: {
          type: String,
          notify: true
        }
      };
    }

    flagFromLang(lang) {
      if (!lang || !this.options) return;
      const opt = this.options.find(function(o) {
        return o.lang === lang;
      });
      if (opt) return opt.flag;
    }
  }
});

</script>
